Medication_Plan_chatgpt: |
  TASK: Extract the 'Medication Plan' from the given 'Assessment/Plan' section.
  Include all current and future medication plans for both cancer therapy and supportive treatment. Cancer treatment could be one or many in chemotherapy, hormonal therapy, bone therapy, radiotherapy (eg. rad onc, xrt). Supportive treatment could be one or many in bowel regimen, pain medication, psychiatry medication, neuropathy or any blood transfusion plan.

  Include whether a medication is being started now (e.g,"will start", "Rx sent", "starting today" ), plan or discuss in the future after certain condition (e.g., "plan to start after radiation", "discussed addition ofâ€¦"), continue or maintained("continue"), stop or change.

  Include an alterative, second-line or clinical trials options if dicussed.
  Include an 'other treatment' section for any other medications that only briefly mentioned in the plan section.
  Respond *only* with a JSON object using this exact schema:
  {
      "The medication/treatment, one of chemotherapy, hormonal therapy, bone therapy, radiotherapy":
  {"summary":"the summary of this type of medication, including start/stop/cotinue if applicable",
  "Short term side_effects_discussed": "short term Side effects of this particular medications.",
  "Long term side_effects_discussed": "long term Side effects of this particular medications.."}
  }

Medication_Plan: |
  TASK: Extract the 'Medication Plan' from the given 'Assessment/Plan' section.
  Include future medication plans, changes to current meds (start, stop, continue), supportive meds, bowel regimen, and any blood transfusion plan. Do not include past medications.
  Respond *only* with a JSON object using this exact schema:
  {
      "medication_plan": "A summary of the complete medication plan."
  }

Therapy_plan: |
  TASK: Extract the 'therapy Plan' from the given 'Assessment/Plan' section.
  Include chemotherapy, radiotherapy, hormonal therapy, and bone-therapy plans. Include future plans, changes to current therapy (start, stop, continue). Do not include past therapies.
  Respond *only* with a JSON object using this exact schema:
  {
      "therapy_plan": "A summary of the complete therapy plan."
  }

radiotherapy_plan: |
  TASK: Extract the 'radiotherapy Plan' from the given 'Assessment/Plan' section.
  For radiotherapy, include ANY statement that indicates
  it is being considered, recommended, or may be used, even if no explicit
  start/continue/plan keywords are present.

Procedure_Plan: |
  TASK: Extract the 'Procedure Plan' from the given 'Assessment/Plan' section.
  Include future procedures including surgery, radiation therapy, or interventional procedures such as biopsy, lumbar puncture, or Chemo Port Insertion. Do not include past procedures.
  Do not include imaging plan, lab plan, or medication plan.
  Respond *only* with a JSON object using this exact schema:
  {
      "procedure_plan": "A summary of any planned procedures."
  }

Imaging_Plan: |
  TASK: Extract the 'Imaging Plan' from the given 'Assessment/Plan' section.
  Include all future imaging like CT, MRI, PET/CT, ultrasound,  DEXA scans, including timing and rationale if mentioned.
  Do not include any procedure plan, lab plan, or medication plan. Do not include past Imaging.
  Respond *only* with a JSON object using this exact schema:
  {
      "imaging_plan": "A summary of any planned procedures."
  }

Lab_Plan: |
  TASK: Extract the 'lab Plan' from the given 'Assessment/Plan' section.
  Include future labs like CBC, CMP, tumor markers, coagulation profile. Specify frequency and rationale if mentioned.
  Do not include any procedure plan, medication plan, or imagining plan. Do not include past labs.
  Respond *only* with a JSON object using this exact schema:
  {
      "lab_plan": "A summary of the future lab plan."
  }

Genetic_Testing_Plan: |
  TASK: Extract the 'Genetic Testing Plan' from the given 'Assessment/Plan' section.

  1. Scope of section:
  - First, find the 'Assessment/Plan' section of the note (usually the final section).
  - Only look for plans that are clearly about FUTURE genetic or molecular TESTING.

  2. What COUNTS as 'genetic or molecular testing':
  - Diagnostic, prognostic, or predictive laboratory assays, such as:
    - Tumor genomic sequencing / NGS / panel testing
    - Germline genetic panels (e.g., hereditary cancer panel, BRCA testing)
    - Liquid biopsy / circulating tumor DNA (ctDNA) tests
    - Specific biomarker tests (e.g., PD-L1 testing, MSI testing, EGFR mutation testing)
    - Any plan to "send", "order", "check", or "obtain" a genetic, genomic, or molecular TEST

  3. What MUST be EXCLUDED:
  - DO NOT include any medications, systemic therapies, or treatment plans:
    - Chemotherapy, immunotherapy, targeted therapies (e.g., FGFR inhibitor, PARP inhibitor, CDK4/6 inhibitor, TKIs)
    - Hormonal therapy, radiation therapy, surgery
    - Clinical trial options, even if the trial involves targeted drugs or inhibitors
  - DO NOT include tests that are already completed, historic, or only mentioned in past oncology history.
  - DO NOT include imaging (CT, PET, MRI, X-ray, ultrasound) or routine labs (CBC, CMP).

  4. If there is NO new genetic or molecular test planned in the Assessment/Plan:
  - Set the value to a clear negative statement, for example:
    "No new genetic or molecular tests were planned during this visit."

  5. Output format:
  Respond *only* with a JSON object using this exact schema:
  {
      "genetic_testing_plan": "A summary of any future planned genetic or molecular tests, or a clear statement that none are planned."
  }

Referral: |
  TASK: Extract 'Referral' from the given 'Assessment/Plan' section.
  do not mistake the doctor's signature at the end of the note as a referral.
  Respond *only* with a JSON object using this exact schema:
  {
  "Nutrition": "any nutrition referrals such as diet optimization, appetite, weight maintenance",
  "Genetics": "eg, germline testing, family counseling",
  "Specialty": "eg, Palliative care (symptom or pain management, goals of care), Radiation oncology, surgical oncology, Psychology, psychiatry for coping and mood support",
  "Others": "Physical or occupational therapy, Social work, financial counseling",
  "follow up": "follow up mentioned in the provided text. f/up[, f/p and fup all mean follow up."
  }

follow_up_next_visit: |
  TASK: Extract the 'follow up/next visit' from the given 'Assessment/Plan' section.

  Respond *only* with a JSON object using this exact schema:
  {
      "Next clinic visit": "(in-person or telehealth): timing and purpose"
  }

Advance_care_planning: |
  TASK: Extract the 'Advance care planning' from the given 'Assessment/Plan' section.
  Include Advance directives, health-care proxy, code status (if appropriate).
  Respond *only* with a JSON object using this exact schema:
  {
      "Advance care": "A summary of any planned Advance care."
  }
